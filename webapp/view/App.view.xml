<mvc:View xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="sap.se.ui.controller.App" displayBlock="true">
	<Shell>
		<App>
			<Page title="{i18n>TITLE}" backgroundDesign="Solid">
				<subHeader>
					<Toolbar>
						<SearchField
							id="searchTodoItemsInput"
							liveChange="onSearch"
							width="100%" />
					</Toolbar>
				</subHeader>
				<content>
					<Input class="todoInput" id="addTodoItemInput" value="{ScreenState>/newTodo}" placeholder="{i18n>INPUT_PLACEHOLDER}" change="addTodo" />
					<List id="todoList"
						items="{ path: 'ScreenState>/todos', events: { change: '.updateItemsLeftCount' } }"
						mode="MultiSelect"
						growing="true"
						growingScrollToLoad="true"
						showNoData="false"
						showSeparators="None"
						rememberSelections="false">
						<infoToolbar>
							<Toolbar>
								<Label id="itemsLeftLabel" text="{= ${ScreenState>/itemsLeftCount} === 1 ? ${ScreenState>/itemsLeftCount} + ' ' + ${i18n>ITEM_LEFT} : ${ScreenState>/itemsLeftCount} + ' ' + ${i18n>ITEMS_LEFT} }"/>
							</Toolbar>
						</infoToolbar>
						<CustomListItem class="todoListItem" selected="{ScreenState>completed}">
							<Input enabled="{=!${ScreenState>completed}}" value="{ScreenState>title}"/>
						</CustomListItem>
					</List>
				</content>
				<footer>
					<Bar>
						<contentMiddle>
							<SegmentedButton selectedKey="all" select="onFilter" class="sapMSegmentedButtonNoAutoWidth">
								<items>
									<SegmentedButtonItem id="filterButton-all" text="All" key="all" />
									<SegmentedButtonItem id="filterButton-active" text="Active" key="active" />
									<SegmentedButtonItem id="filterButton-completed" text="Completed" key="completed" />
								</items>
							</SegmentedButton>
						</contentMiddle>
						<contentRight>
							<Button id="clearCompleted" enabled="{ScreenState>/itemsRemovable}" icon="sap-icon://delete" text="{i18n>CLEAR_COMPLETED}" press="clearCompleted" />
						</contentRight>
					</Bar>
				</footer>
			</Page>
		</App>
	</Shell>
</mvc:View>
